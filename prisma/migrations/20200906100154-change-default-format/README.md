# Migration `20200906100154-change-default-format`

This migration has been generated by winsonhys at 9/6/2020, 6:01:55 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Address" DROP COLUMN "default"

ALTER TABLE "public"."UserTable" ADD COLUMN "defaultAddressId" text   
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200906073943-default-addr..20200906100154-change-default-format
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider        = "prisma-client-js"
@@ -23,31 +23,31 @@
   REFUNDED
 }
 model User {
-  id             String    @default(uuid()) @id
-  email          String    @unique
-  username       String    @unique
-  password       String
-  dob            DateTime
-  orders         Order[]
-  stripe_cust_id String    @default("")
-  addresses      Address[]
+  id               String    @default(uuid()) @id
+  email            String    @unique
+  username         String    @unique
+  password         String
+  dob              DateTime
+  orders           Order[]
+  stripe_cust_id   String    @default("")
+  defaultAddressId String?
+  addresses        Address[]
   @@map("UserTable")
 }
 model Address {
-  id          String  @default(uuid()) @id
+  id          String @default(uuid()) @id
   country     String
   city        String
   state       String
   line1       String
   line2       String
   postal_code String
   userId      String
-  user        User    @relation(fields: [userId], references: [id])
-  default     Boolean @default(false)
+  user        User   @relation(fields: [userId], references: [id])
 }
 model Shop {
   id        String     @default(uuid()) @id
```


