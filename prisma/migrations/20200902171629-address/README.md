# Migration `20200902171629-address`

This migration has been generated by winsonhys at 9/3/2020, 1:16:29 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Address" (
"id" text   NOT NULL ,
"city" text   NOT NULL ,
"line1" text   NOT NULL ,
"line2" text   NOT NULL ,
"postal" text   NOT NULL ,
"state" text   NOT NULL ,
"userId" text   NOT NULL ,
PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "Address_userId_unique" ON "public"."Address"("userId")

ALTER TABLE "public"."Address" ADD FOREIGN KEY ("userId")REFERENCES "public"."UserTable"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200822185001-order-soft-delete..20200902171629-address
--- datamodel.dml
+++ datamodel.dml
@@ -2,14 +2,14 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
-  provider             = "prisma-client-js"
-  experimentalFeatures = ["aggregateApi"]
+  provider        = "prisma-client-js"
+  previewFeatures = ["aggregateApi"]
 }
 generator typegraphql {
   provider = "node node_modules/typegraphql-prisma/generator.js"
@@ -30,11 +30,24 @@
   password       String
   dob            DateTime
   orders         Order[]
   stripe_cust_id String   @default("")
+  address        Address?
   @@map("UserTable")
+
 }
+model Address {
+  id     String @default(uuid()) @id
+  city   String
+  line1  String
+  line2  String
+  postal String
+  state  String
+  userId String
+  user   User   @relation(fields: [userId], references: [id])
+}
+
 model Shop {
   id        String     @default(uuid()) @id
   email     String     @unique
   username  String     @unique
```


